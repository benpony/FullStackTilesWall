(this["webpackJsonpmern-stack"]=this["webpackJsonpmern-stack"]||[]).push([[0],{168:function(e,a,t){e.exports=t.p+"static/media/white-frame.e6914697.svg"},191:function(e,a,t){e.exports=t(322)},196:function(e,a,t){},198:function(e,a,t){},317:function(e,a,t){e.exports=t.p+"static/media/brick-room-opacity_max.1a44c753.png"},318:function(e,a,t){},319:function(e,a,t){},321:function(e,a,t){},322:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(11),c=t.n(i),o=(t(196),t(58)),l=t.n(o),s=t(20),m=t(85),u=(t(198),t(26)),d=t(114),f=t(46),p=t(16),E=t(116),h=t.n(E),g=t(394);function b(e){return function(a){a(function(e){return{type:"USER_CHANGED_SUCCESS",user:e}}(e))}}var v=t(66),O=t.n(v),y={headers:{"Content-Type":"application/json"}};function j(e){return function(a){e&&e.length&&O.a.get("/orders?uuid=".concat(e),y).then((function(e){var t=e.data.orders.reverse();a({type:"LOAD_USER_ORDERS_SUCCESS",orders:t})})).catch(console.error)}}function N(e){return function(a){O.a.post("/order",e,y).then((function(e){a({type:"CREATE_USER_ORDER_SUCCESS",order:e.data.order})})).catch(console.error)}}var S=t(51),x=t(33),C=t(3),w=t(393),k=t(377),A=t(371),I=t(375),R=t(373),_=t(376),D=t(374),F=t(162),U=t.n(F),T=t(163),L=t.n(T),P=t(161),W=t.n(P),M=t(164),Y=t.n(M),G=t(368),B=Object(G.a)({list:{width:250},listItem:{height:60,color:"#ff037d","& span":{fontWeight:500,fontFamily:"cursive"}},listIcon:{color:"#ff037d",fontSize:28},fullList:{width:"auto"},divider:{marginTop:20},menuButton:{color:"white",fontSize:40,marginRight:10}}),H=Object(f.f)((function(e){var a=e.history,t=B(),n=r.a.useState({top:!1,left:!1,bottom:!1,right:!1}),i=Object(x.a)(n,2),c=i[0],o=i[1],l=function(e,a){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(Object(s.a)(Object(s.a)({},c),{},Object(S.a)({},e,a)))}};return r.a.createElement("div",{className:t.root},["left"].map((function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(k.a,{onClick:l(e,!0)},r.a.createElement(Y.a,{className:t.menuButton})),r.a.createElement(w.a,{anchor:e,open:c[e],onClose:l(e,!1)},function(e){return r.a.createElement("div",{className:Object(C.a)(t.list,Object(S.a)({},t.fullList,"top"===e||"bottom"===e)),role:"presentation",onClick:l(e,!1),onKeyDown:l(e,!1)},r.a.createElement(A.a,null,[""].map((function(e,a){return r.a.createElement(R.a,{button:!0,key:e},r.a.createElement(D.a,{primary:e}))}))),r.a.createElement(I.a,{className:t.divider}),r.a.createElement(A.a,null,[["Order","/",r.a.createElement(W.a,{key:1,className:t.listIcon})],["My Orders","/orders",r.a.createElement(U.a,{key:2,className:t.listIcon})],["Admin?","/admin",r.a.createElement(L.a,{key:3,className:t.listIcon})]].map((function(e,n){return r.a.createElement(R.a,{button:!0,key:e[0],onClick:function(){return a.push(e[1])},className:t.listItem},r.a.createElement(_.a,null,e[2]),r.a.createElement(D.a,{primary:e[0]}))}))))}(e)))})))})),z=t(390),V=t(389),Z={headers:{"Content-Type":"application/json"}};function q(e){return function(a){O.a.get("/allOrders?pwd=".concat(e.adminPassword),Z).then((function(t){e.users=t.data.users,a(J(Object(s.a)({},e)))})).catch(console.error)}}function J(e){return{type:"ADMIN_CHANGED_SUCCESS",admin:e}}var $=Object(G.a)((function(e){return{root:{},loginForm:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},fields:{height:500,margin:50},field:{width:245},buttons:{"& > *":{height:80,width:200,margin:e.spacing(1)}}}})),K=t(180),Q=t(388),X=function(e){var a=e.label,t=e.input,n=e.meta,i=n.touched,c=n.invalid,o=n.error,l=Object(K.a)(e,["label","input","meta"]);return r.a.createElement(Q.a,Object.assign({label:a,error:i&&c,helperText:i&&o,variant:"outlined"},t,l))},ee=Object(V.a)({form:"LoginForm",validate:function(e){var a={};return["password"].forEach((function(t){e[t]||(a[t]="Required")})),a}})(Object(p.b)((function(e){return{admin:e.admin}}))((function(e){var a=$(),t=e.pristine,n=(e.reset,e.submitting),i=e.admin,c=e.dispatch,o=e.history;return r.a.createElement("div",{className:a.root},r.a.createElement("form",{noValidate:!0,className:a.loginForm},r.a.createElement("div",{className:a.fields},r.a.createElement(z.a,{name:"password",label:"Enter Password",className:a.field,component:X,onChange:function(e,a){i.adminPassword=a,c(function(e){return function(a){a(J(e))}}(Object(s.a)({},i)))}})),r.a.createElement("div",{className:a.buttons},r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){o.push("/adminOrders")},disabled:t||n},"Login"))))}))),ae=t(73),te=(t(317),Object(G.a)((function(e){return{root:{display:"flex",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},grid:{maxWidth:"600px"},button:{fontWeight:"bold",height:"100px",width:"300px",borderWidth:"medium",margin:"0 0 20px 0"},pickSomePhotosText:{paddingTop:"2rem",textTransform:"uppercase",fontWeight:"700",fontSize:"14px",letterSpacing:"1.6px",color:"#8c8c8c",width:"100%",textAlign:"center",minHeight:"40px"}}}))),ne=t(379),re=t(168),ie=t.n(re),ce=t(169),oe=t(170),le=t(181),se=t(179),me=t(171),ue=t(172),de=t.n(ue),fe=(t(318),function(e){Object(le.a)(t,e);var a=Object(se.a)(t);function t(){var e;Object(ce.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).onChange=function(a){e.props.callback(e.props.imageNumber,a)},e}return Object(oe.a)(t,[{key:"render",value:function(){return n.createElement(me.a,{onChange:this.onChange,maxNumber:10,multiple:!1,maxFileSize:5,acceptType:["jpg","gif","png","jpeg"],defaultValue:[]},(function(e){var a=e.imageList,t=e.onImageUpload;e.onImageRemoveAll;return n.createElement(n.Fragment,null,a.length?void 0:n.createElement(k.a,{className:"add-action",variant:"outlined",color:"primary",onClick:t},n.createElement(de.a,{className:"add-icon"},"add")),a.map((function(e){return n.createElement("div",{key:e.key},n.createElement("img",{src:e.dataURL,className:"image",onClick:e.onUpdate}))})))}))}}]),t}(n.Component));t(319);function pe(e){var a=e.isSelected,t=e.imageNumber,n=e.image,i=e.callback;return r.a.createElement("div",{className:"framedImageComponent"},r.a.createElement("div",{className:a?"tile":"tile unselected animated"},r.a.createElement("div",{className:"preview"},n?r.a.createElement("img",{src:n.location,className:"image"}):r.a.createElement(fe,{imageNumber:t,callback:i})),r.a.createElement("div",{className:"tileFrame"},a?r.a.createElement("img",{className:"frame",onClick:function(e){e.preventDefault(),e.stopPropagation()},src:ie.a}):void 0)))}var Ee=Object(G.a)((function(e){return{grid:{flexGrow:1,maxWidth:"80vh"},orderForm:{margin:"60px 30px 40px"},textField:{minWidth:"36vh","& input":{fontFamily:"cursive"}},buttons:{"& > *":{margin:e.spacing(1)}}}})),he=Object(V.a)({form:"OrderForm",validate:function(e){var a={};return["name","address","email"].forEach((function(t){e[t]||(a[t]="Required")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(a.email="Invalid email address"),a}})(Object(p.b)((function(e){return{user:e.user}}))((function(e){var a=Ee(),t=(e.pristine,e.reset,e.submitting,e.user),n=e.dispatch;return r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:a.orderForm},r.a.createElement(ne.a,{className:a.grid,container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1},r.a.createElement(ne.a,{item:!0,xs:12},r.a.createElement(z.a,{className:a.textField,name:"name",label:"Full Name",component:X,onChange:function(e,a){t.order.name=a,n(b(Object(s.a)({},t)))}})),r.a.createElement(ne.a,{item:!0,xs:12},r.a.createElement(z.a,{className:a.textField,name:"address",label:"Full Shipping Address",component:X,onChange:function(e,a){t.order.address=a,n(b(Object(s.a)({},t)))}})),r.a.createElement(ne.a,{item:!0,xs:12},r.a.createElement(z.a,{className:a.textField,name:"email",label:"Email Address",component:X,onChange:function(e,a){t.order.email=a,n(b(Object(s.a)({},t)))}}))))}))),ge=Object(p.b)((function(e){return{user:e.user}}))((function(e){var a=e.user,t=e.dispatch,i=e.history,c=te(),o=Object(n.useState)([]),l=Object(x.a)(o,2),m=l[0],u=l[1],d=function(e,n){f(n)?(m[e]=n[0],u(Object(ae.a)(m))):(m.splice(e,1),u(Object(ae.a)(m))),a.order.images=m,t(b(Object(s.a)({},a)))},f=function(e){return Array.isArray(e)&&e.length},p=window.innerWidth<=400?[1]:[1,2,3,4];return r.a.createElement("div",{className:c.root},r.a.createElement("div",{className:c.pickSomePhotosText},"pick some photos!"),r.a.createElement(ne.a,{className:c.grid,container:!0,direction:"row",justify:"center",alignItems:"center",spacing:4},p.map((function(e,a){return r.a.createElement(ne.a,{key:a,item:!0,xs:12,sm:6},r.a.createElement(pe,{imageNumber:a,callback:d,isSelected:!!m[a]}))}))),r.a.createElement(he,null),r.a.createElement(k.a,{className:c.button,variant:"outlined",color:"primary",onClick:function(){a.order={uuid:Object(g.a)(),name:a.order.name,address:a.order.address,email:a.order.email,date:new Date,images:m},t(N(a)),setTimeout((function(){i.push("/orders")}),4e3)},disabled:!function(e){return f(e)&&a.order.address}(m)},"Order"))})),be=t(95),ve=t.n(be),Oe=t(380),ye=t(381),je=t(382),Ne=t(386),Se=t(383),xe=t(385),Ce=t(397),we=t(384),ke=t(47),Ae=t(173),Ie=t.n(Ae),Re=t(174),_e=t.n(Re),De=t(175),Fe=t.n(De),Ue=Object(G.a)((function(e){return{root:{maxWidth:345,borderRadius:10,margin:"auto"},media:{height:0,paddingTop:"36.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{opacity:.8,fontFamily:"cursive"},center:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:40},typography:{"& span":{fontFamily:"cursive"}},id:{marginLeft:29,fontSize:11,fontFamily:"cursive",lineHeight:2}}})),Te=function(e){var a=e.order,t=e.hidePreview,n=Ue(),i=r.a.useState(!1),c=Object(x.a)(i,2),o=c[0],l=c[1];return r.a.createElement(Oe.a,{className:n.root},r.a.createElement(ye.a,{avatar:r.a.createElement(Ce.a,{"aria-label":"recipe",className:n.avatar},a.name.charAt(0)),title:a.address,subheader:a.date?ve()(a.date).format("MM ddd, YYYY hh:mm:ss a"):void 0,className:n.typography}),t?void 0:r.a.createElement(je.a,{className:n.media,image:a.images[0].location,title:"Paella dish"}),r.a.createElement(Se.a,{disableSpacing:!0},r.a.createElement(we.a,{"aria-label":"add to favorites",disabled:!0,style:{opacity:.4}},r.a.createElement(Ie.a,null)),r.a.createElement(we.a,{"aria-label":"share",disabled:!0,style:{opacity:.4}},r.a.createElement(_e.a,null)),r.a.createElement(we.a,{className:Object(C.a)(n.expand,Object(S.a)({},n.expandOpen,o)),onClick:function(){l(!o)},"aria-expanded":o,"aria-label":"show more"},r.a.createElement(Fe.a,null))),r.a.createElement(xe.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ne.a,null,r.a.createElement(ke.a,{variant:"body2",color:"textSecondary",component:"p",className:n.id},"TO: ",a.name),r.a.createElement(ke.a,{variant:"body2",color:"textSecondary",component:"p",className:n.id},"ID: ",a.uuid),a.images.map((function(e,a){return r.a.createElement("div",{className:n.center,key:a},r.a.createElement(pe,{imageNumber:a,isSelected:!0,image:e}))})))))},Le=function(e){var a=e.orders,t=e.hidePreview;return r.a.createElement("div",{className:"OrderListComponent"},r.a.createElement(ne.a,{className:"grid",container:!0,direction:"row",spacing:1},a.map((function(e){return e?r.a.createElement(ne.a,{className:"gridItem",key:e.uuid,item:!0,xs:12,sm:6,md:3},r.a.createElement(Te,{order:e,hidePreview:t})):void 0}))))},Pe=t(391),We=t(96),Me=t.n(We),Ye=(t(321),Object(p.b)((function(e){return{orders:e.orders}}))((function(e){var a=e.orders,t=Object(n.useState)([]),i=Object(x.a)(t,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){a&&a.length&&(a.forEach((function(e){e.date=ve()(e.date).format("MM/DD/YYYY")})),o(a))}),[a]),r.a.createElement("div",{className:"UserOrderList"},r.a.createElement(Pe.a,{className:"searchBar",freeSolo:!0,options:Array.from(new Set(a.map((function(e){return e.date})))),onChange:function(e,t){o(t?a.filter((function(e){return e.date===t})):a)},renderInput:function(e){return r.a.createElement(Q.a,Object.assign({},e,{label:r.a.createElement(Me.a,null),placeholder:"Search by date..",margin:"normal",variant:"outlined",color:"secondary"}))}}),r.a.createElement(Le,{orders:c}))}))),Ge=Object(p.b)((function(e){return{admin:e.admin}}))((function(e){var a=e.admin,t=e.dispatch,i=Object(n.useState)([]),c=Object(x.a)(i,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(q(a));case 1:case"end":return e.stop()}}),e)})))()}),[a.adminPassword]),Object(n.useEffect)((function(){a&&a.users.length&&s(a.users)}),[a.users]),r.a.createElement("div",{className:"adminOrderListComponent"},r.a.createElement(Pe.a,{className:"searchBar",freeSolo:!0,options:o.map((function(e){return e.uuid})),onChange:function(e,t){s(t?o.filter((function(e){return e.uuid===t})):a.users)},renderInput:function(e){return r.a.createElement(Q.a,Object.assign({},e,{label:r.a.createElement(Me.a,null),placeholder:"Search by user id..",margin:"normal",variant:"outlined",color:"secondary"}))}}),o.map((function(e){return r.a.createElement("div",{key:e.uuid},r.a.createElement(Le,{orders:e.orders,hidePreview:!0}))})))}));var Be=Object(p.b)((function(e){return{user:e.user}}))((function(e){var a=e.user,t=e.dispatch;return Object(n.useEffect)((function(){Object(m.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=h.a.get("user"))||h.a.set("user",Object(g.a)(),{expires:7}),a.uuid=n,e.next=5,t(b(Object(s.a)({},a)));case 5:return e.next=7,t(j(a.uuid));case 7:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(d.a,{history:Object(u.a)()},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"header"},r.a.createElement(H,null)),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"app-routes"},r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/orders",component:Ye}),r.a.createElement(f.a,{path:"/adminOrders",component:Ge}),r.a.createElement(f.a,{path:"/admin",component:ee}),r.a.createElement(f.a,{path:"/",component:ge})))),r.a.createElement("div",{className:"footer"})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=t(15),ze=t(395),Ve={user:{uuid:null,order:{uuid:null,name:null,date:null,email:null,address:null,images:[]}},orders:[],admin:{adminPassword:null,users:[]}};var Ze=Object(He.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve.user,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_CHANGED_SUCCESS":return a.user;default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve.orders,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_USER_ORDERS_SUCCESS":return a.orders;case"CREATE_USER_ORDER_SUCCESS":e=[a.order].concat(Object(ae.a)(e));default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve.admin,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADMIN_CHANGED_SUCCESS":return a.admin;default:return e}},form:ze.a}),qe=t(177),Je=t(387),$e=t(396),Ke=t(178),Qe=Object(He.d)(Ze,Object(He.a)(qe.a));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:Qe},r.a.createElement(Je.a,{theme:Object($e.a)(Object(Ke.a)())},r.a.createElement(Be,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.4b5d8466.chunk.js.map